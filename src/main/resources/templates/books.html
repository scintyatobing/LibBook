<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="ISO-8859-1">
    <title>Data Buku</title>
    <link rel="stylesheet" type="text/css" href="/webjars/bootstrap/css/bootstrap.min.css" />
	 
    <script type="text/javascript" src="/webjars/jquery/jquery.min.js"></script>
    <script type="text/javascript" src="/webjars/bootstrap/js/bootstrap.min.js"></script>
</head>
<body>
<section id="header">
		<nav class="navbar navbar-expand-lg navbar navbar-dark bg-dark "
			style="background-color: #e3f2fd;">
			
			<a class="navbar-brand" href="">LibBook</a>
			<button class="navbar-toggler" type="button" data-toggle="collapse"
				data-target="#navbarSupportedContent"
				aria-controls="navbarSupportedContent" aria-expanded="false"
				aria-label="Toggle navigation">
				<span class="navbar-toggler-icon"></span>
			</button>
			<div class="collapse navbar-collapse" id="navbarSupportedContent">
					<ul class="navbar-nav ml-auto">
						<!-- <li class="nav-item active"><a class="nav-link"
							th:href="@{/logout}">Logout <b>[[${#request.userPrincipal.principal.fullName}]]</b></a>
						</li> -->
						
						<li class="nav-item dropdown"><a class="nav-link dropdown-toggle" href="#" id="navbarDropdownMenuLink" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
         				<b>[[${#request.userPrincipal.principal.fullName}]]</b></a>
				        <div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
				          <a class="dropdown-item" th:href="@{/}">Logout</a>
				        </div>
				      	</li>
					</ul>
			</div>
		</nav>
	</section>
     
    <div class ="container">
        <div class = "row">
		  <div class="col-lg-12 margin-tb">
			        <div class="pull-left">
			            <h2>Daftar Buku</h2>
			        </div>
			        <div class="col-lg-3">
			            <a class="btn btn-success mb-3" th:href="@{/book/new}"><b> Tambah Buku</b></a>
			        </div>
			    </div>
			</div>	
        <table class="table table-striped table-bordered">
            <thead class="thead-dark">
                <tr>
                    <th>Judul Buku</th>
                    <th>Penulis</th>
                    <th>Penerbit</th>
                    <th>Tahun Terbit</th>
                    <th>Actions</th>
                </tr>
            </thead>
            
            
            <tbody>
            	<tr th:each = "listBooks: ${listBooks}">
					<td th:text = "${listBooks.title}"></td>
					<td th:text = "${listBooks.author}"></td>
					<td th:text = "${listBooks.publisher}"></td>
					<td th:text = "${listBooks.year}"></td>
					<td>
						<a th:href = "@{/book/edit/{book_id}(book_id=${listBooks.book_id})}"
						 class = "btn btn-primary">Update</a>
						
						<a th:href = "@{/book/{book_id}(book_id=${listBooks.book_id})}"
						 class = "btn btn-danger">Delete</a>
						 
					</td>
            </tbody>
        </table>
    </div>
</div>
</body>
</html>